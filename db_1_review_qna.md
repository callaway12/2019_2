# 복습문제
* 광범위한 데이터의 접근을 필요로 하는 응용들에서 데이터를 관리하기 위해 DBMS를 사용하는 것의 주된 장점들은 무엇인가?
    - 데이터의 독립성 & 효율적 접근
    - 응용 개발 시간 감축
    - 데이터의 무결성 & 보안성
    - 동시접근 & 손상 복구

* 운영체제의 파일 대신 DBMS에 데이터를 저장하는 경우는? 이와 반대의 경우는?
    - os가 32비트로 되어있으면 4GB 이상의 파일에 대한 직접 참조가 불가능
    - 주기억장치보다 큰 용량의 저장이 불가능, 고로 다른 큰 저장장치에서 참조할때 DBMS
    - 동시 접근하며 일관성, 즉 동시접근 및 손상 복구가 가능하게 끔
    - os의 제한적 암호 식별 기능으로 인한 사용자별 각기 다른 부분에 대한 접근을 허가하기에 융통성 부족
    - os 로만 데이터를 찾기 어려움, 즉, 방대한 양의 데이터를 몽땅 돌면서 참조해야함

    - **반대의 경우를 모르겠음**
        + 굳이 디비에 안넣어도 될 것들?
        + 분류가 되지 않는 각기 다른 데이터들?
        + ...?
* 데이터 모델이 무엇인가? 관계 데이터 모델이 무엇인가? 데이터 독립성이 무엇이며 어떻게 DBMS가 이를 지원하는가?
    - 데이터 모델이란, 관계를 통해 나타나는 개체들?
        + 저 수준의 저장에 대한 내용들을 감추고 고수준의 데이터를 기술하는 구성자들의 집합...
    - 관계 데이터 모델이란, 스키마들로 이루어진 관계 개체들?
        + 이건 맞는듯
    - 데이터 독립성이란, 데이터들의 표현과 저장에 따라 다른 데이터들이 영향 ㄴ
        + 사실상, *데이터 무결성 제약조건* 을 원한듯, 한 관계에 있는 레코드들이 반드시 만족해야하는 조건
        + **정담** 데이터의 저장과 변경으로부터 격리, 3 단계의 추상화로 인해 달성, 개념 스키마와 외부 스키마의 분리,
        + Faculty_public(fid, fname, office), Faculty_private(fid, sal) 에서 coureseinfo(fname)이 public을 참조하며 데이터의 독립성을 이루며, courseinfo 뷰 릴레이션은 public 과 private에 의하여 다시 정의됨. 이를 논리적 데이터 독립성
        + 물리적 데이터 독립성은, 아예 저장을 다른데다 하고 참조를 다른데 하며 인덱스의 선택과 같은 세부사항들을 감추는것, 개념 스키마가 그대로 유지되는한, 이러한 저장의 세부사항을 변경 가능.
    - DBMS 에서는 의미적인 데이터 모델을 이용하여 추상화를 통해 데이터 독립성에 기여한다.
* 데이터를 처리하기 위해 주문형 프로그램 대신 질의어를 사용하는 장점을 설명하시오.
    - 관계모델로 정의된 DB에서 여러 사용자들이 일종의 정형화된 질의어를 통하여 원하는 데이터를 추출 및 가공이 가능해서..?
* 트랜잭션이 무엇인가? DBMS 는 트랜잭션에 관하여 어떤 보장을 제공하는가?
    - 트랜잭션이란 DBMS상에서의 수행 과정의 최소 단위, DBMS에서는 트랜잭션에 관하여 원자성 atomicity를 보장한다. 즉, 트랜잭션 하나가 시작되면 다른 트랜잭션이 같은 개체에 대해 수정을 잠금하며 시작된 트랜잭션이 끝이 나지 않는 이상 종료되지 않는다. 또한 미완료 트랜잭션과 시스템의 붕괴에서는 로그가 관여한다. 트랜잭션이 완료가 되어야만 로그가 생기며 시스템의 붕괴시 저장된 로그를 바탕으로 다시 롤백한다. 
    - **정답** 트랜잭션이란 DBMS에서 사용자 프로그램의 *일회 실행*이다. 트랜잭션은 DBMS가 보는 변경의 기본단위이다. 부분적으로 수행된 트랜잭션은 허용 x, 한 그룹의 트랜잭션들의 효과는 모든 트랜잭션들이 어떤 직렬 순서에 따라 수행한 효과와 동등하다 **???**. 잠금 프로토콜에 의해 여러 트랜잭션들의 연산들이 인터리브하더라도, 실제는 어떤 직렬 순서에 따라 모든 트랜잭션들을 수행하는 것과 동일. 한 객체에 대한 *공용 잠금*은 동시에 두 개의 다른 트랜잭션들에 의하여 소유될 수 있으나, 한 객체에 대한 *전용 잠금*은 다른 트랜잭션들이 이 객체에 어떻나 잠그도 소유할 수 없도록 하는것.
* DBMS에서 잠금들이 무엇이며, 왜 그들이 사용되는가? Write-ahead-logging 이 무엇이며, 왜 그것이 사용되는가? 검사점이 무엇이며 왜 그것이 사용되는가?
    - 잠금(lock)은 데이터베이스 객체에 대한 접근 제어에 사용되는 메카니즘.
    - 공용 잠금 (shared lock)은 동시에 두 개의 다른 트랜잭션들에 의하여 소유될 수 있으나,
    - 전용 잠금 (exclusive lock)은 한 객체에 대한 다른 트랜잭션들이 이 객체에 어떠한 잠금도 소유할 수 없도록 하는것.
    - T1, T2, T1이 먼저 한 객체에 대한 전용 잠금 설정, T2가 해당 객체에 대한 공용 잠금을 요청했을시, DBMS는 T2의 요청을 T1이 완료될 때까지 보류함.
    - 이는 한 객체에 대한 각기 다른 트랜잭션들이 꼬여서 발생하는 문제들(은행 잔고 만원 예시, 1000원 인출, T1이 읽고, 인출하고, 쓸때! T2가 먼저 읽고 인출하면 2천원이 인출 됐지만 막상 T1이 9천원 쓰고, T2가 똑같이 9천원으로 쓰니깐 이상해짐) 
    - Write-ahead-logging은 트랜잭션이 발생했을시 DB에 쓰기 전에 시스템 붕괴시 로그에 기록되기 전이면 DBMS는 해당하는 트랜잭션에 대한 피드백이 불가능.
    - 로그는 성공적으로 완료된 트랜잭션에 의해 수행된 변경들이 시스템 붕괴 때문에 손실되지 않는다는 것을 보장하기 위해 사용.
    - 이러한 로그들을 디스크에 저장하는것을 검사점(check point)라 함
* DBMS에서 주된 구성요소들을 열거하고 그들이 처리하는 것을 간단히 설명하시오.
    - 질의 최적화기(query optimizer)
        + 쿼리를 파싱해서 분석
        + Optimizer & Parser
        + Operator Evaluator?
    - 실행 계획(execution plan)
        + 질의를 계산, 관계 연산자들의 트리
    - 위에 것들이 Query Evaluation Engine

    - 파일과 접근 방법 계층 (Files and Access Methods)
        + 페이지들의 모임이나 레코드들의 모임인 *파일* 개념을 지원,
        + 인덱스, 힙파일, 관리 및 조직
    - 버퍼 관리기(buffer manager)
        + 읽기 요청에 따라 필요한 페이지들을 디스크로부터 주기억장치로 페치
    - 디스크 공간 관리기(disk space manager)
        + 나머지 모든 계층들의 요청을 통해 페이지를 할당, 반납, 읽고, 기록
    
    - 트랜잭션 관리기(transcation manager)
        + 트랜잭션들의 잠금 요청, 해제의 계획 수립
    - 잠금 관리기(lock manager)
        + 잠금을 허가
    - 복구 관리기(recovery manager)
        + 시스템 붕괴시 복구 담당
* 데이터베이스 관리자, 응용 프로그래머, 데이터베이스의 최종 사용자의 역할을 설명하시오. 누가 데이터베이스 시스템에 관하여 가장 많이 아는 것이 필요한가?
    - 데이터베이스 관리자
        + 개념 스키마와 물리적 스키마의 설계
            - 개념스키마(어떤 관계들을 갖는지), 물리스키마(어떻게 저장할지). 최종 사용자들을 위한 view 개발
        + 보안과 권한부여
            - 특정 뷰와 관계에만 특정 사용자들이 접근하게끔
        + 데이터 가용성과 손상 복구
            - 시스템 장애시, 복구, 그전에 백업
        + 데이터베이스 튜닝
            - 슉슉,,,,
    - 응용 프로그래머
        + 최종 사용자들을 위한 데이터 접근 패키지들을 개발
        + 외부 스키마를 통한 데이터 접근이 이상적
    - 최종 사용자
        + 단순 디비의 사용